---
import "../styles/global.css";
import memories from "../data/memories.json";

// Ambil 2 memori pertama (bisa kamu ubah)
const preview = memories.slice(0, 4);
---

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Space ‚Äî Aqueena</title>
    <style>
      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
      }
      @keyframes swim {
        0%, 100% { transform: translateX(0px) rotate(0deg); }
        25% { transform: translateX(10px) rotate(2deg); }
        75% { transform: translateX(-10px) rotate(-2deg); }
      }
      @keyframes bubble {
        0% { transform: translateY(0) scale(0); opacity: 0; }
        50% { opacity: 0.6; }
        100% { transform: translateY(-100vh) scale(1); opacity: 0; }
      }
      @keyframes modalFadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      @keyframes modalSlideIn {
        from { transform: scale(0.9) translateY(20px); opacity: 0; }
        to { transform: scale(1) translateY(0); opacity: 1; }
      }
      @keyframes fishSwim {
        0% { transform: translateX(-100px) translateY(0px); }
        50% { transform: translateX(calc(100vw + 100px)) translateY(-30px); }
        51% { transform: translateX(calc(100vw + 100px)) translateY(-30px) scaleX(-1); }
        100% { transform: translateX(-100px) translateY(0px) scaleX(-1); }
      }
      @keyframes wave {
        0%, 100% { transform: translateX(0) translateY(0); }
        50% { transform: translateX(20px) translateY(-10px); }
      }
      @keyframes coral-sway {
        0%, 100% { transform: rotate(-2deg); }
        50% { transform: rotate(2deg); }
      }
      .mola-float { animation: float 6s ease-in-out infinite; }
      .mola-swim { animation: swim 8s ease-in-out infinite; }
      .fish-swim { animation: fishSwim 25s linear infinite; }
      .wave-pattern { animation: wave 4s ease-in-out infinite; }
      .coral-sway { animation: coral-sway 3s ease-in-out infinite; }
      .bubble {
        position: fixed;
        bottom: -50px;
        background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.8), rgba(147,197,253,0.3));
        border-radius: 50%;
        animation: bubble linear infinite;
        pointer-events: none;
        z-index: 1;
      }
      .modal-backdrop {
        animation: modalFadeIn 0.3s ease-out;
      }
      .modal-content {
        animation: modalSlideIn 0.3s ease-out;
      }
    </style>
  </head>

  <body class="relative overflow-x-hidden bg-gradient-to-b from-blue-50 via-cyan-50 to-blue-100 text-gray-800 pt-20 md:pt-28">
    <!-- Ocean Wave Pattern Background -->
    <div class="fixed inset-0 pointer-events-none z-0 opacity-10">
      <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <pattern id="wave-pattern" x="0" y="0" width="100" height="50" patternUnits="userSpaceOnUse">
            <path d="M0,25 Q25,15 50,25 T100,25" fill="none" stroke="#0891b2" stroke-width="1.5"/>
            <path d="M0,35 Q25,25 50,35 T100,35" fill="none" stroke="#06b6d4" stroke-width="1"/>
          </pattern>
        </defs>
        <rect width="100%" height="100%" fill="url(#wave-pattern)"/>
      </svg>
    </div>

    <!-- Swimming Fish -->
    <div class="fixed top-1/4 left-0 fish-swim pointer-events-none z-[5] opacity-40" style="animation-delay: 0s;">
      <svg width="60" height="40" viewBox="0 0 60 40">
        <ellipse cx="30" cy="20" rx="20" ry="12" fill="#38bdf8"/>
        <circle cx="22" cy="16" r="3" fill="#1e3a8a"/>
        <path d="M50 20 L58 15 L58 25 Z" fill="#0ea5e9"/>
        <path d="M10 20 L2 15 L2 25 Z" fill="#0ea5e9"/>
      </svg>
    </div>

    <div class="fixed top-1/2 left-0 fish-swim pointer-events-none z-[5] opacity-30" style="animation-delay: 8s; animation-duration: 30s;">
      <svg width="50" height="35" viewBox="0 0 60 40">
        <ellipse cx="30" cy="20" rx="18" ry="10" fill="#7dd3fc"/>
        <circle cx="23" cy="17" r="2.5" fill="#1e40af"/>
        <path d="M48 20 L55 16 L55 24 Z" fill="#38bdf8"/>
      </svg>
    </div>

    <div class="fixed top-2/3 left-0 fish-swim pointer-events-none z-[5] opacity-35" style="animation-delay: 15s; animation-duration: 28s;">
      <svg width="55" height="38" viewBox="0 0 60 40">
        <ellipse cx="30" cy="20" rx="19" ry="11" fill="#60a5fa"/>
        <circle cx="24" cy="17" r="2.8" fill="#1e3a8a"/>
        <path d="M49 20 L57 16 L57 24 Z" fill="#3b82f6"/>
      </svg>
    </div>

    <!-- Coral Decorations (Bottom corners) -->
    <div class="fixed bottom-0 left-0 pointer-events-none z-[5] opacity-20 coral-sway">
      <svg width="120" height="150" viewBox="0 0 120 150">
        <path d="M20,150 Q20,120 30,100 T40,50 Q40,30 35,10" stroke="#14b8a6" stroke-width="8" fill="none" stroke-linecap="round"/>
        <path d="M50,150 Q50,130 55,110 T60,70 Q60,50 58,30" stroke="#0d9488" stroke-width="6" fill="none" stroke-linecap="round"/>
        <path d="M75,150 Q75,125 80,100 T85,60 Q85,40 82,20" stroke="#2dd4bf" stroke-width="7" fill="none" stroke-linecap="round"/>
      </svg>
    </div>

    <div class="fixed bottom-0 right-0 pointer-events-none z-[5] opacity-20 coral-sway" style="animation-delay: 1s;">
      <svg width="120" height="150" viewBox="0 0 120 150">
        <path d="M100,150 Q100,120 90,100 T80,50 Q80,30 85,10" stroke="#06b6d4" stroke-width="8" fill="none" stroke-linecap="round"/>
        <path d="M70,150 Q70,130 65,110 T60,70 Q60,50 62,30" stroke="#0891b2" stroke-width="6" fill="none" stroke-linecap="round"/>
        <path d="M45,150 Q45,125 40,100 T35,60 Q35,40 38,20" stroke="#22d3ee" stroke-width="7" fill="none" stroke-linecap="round"/>
      </svg>
    </div>

    <!-- Seaweed (Sides) -->
    <div class="fixed top-1/3 left-4 pointer-events-none z-[5] opacity-15 wave-pattern">
      <svg width="40" height="200" viewBox="0 0 40 200">
        <path d="M20,200 Q10,150 20,100 Q30,50 20,0" stroke="#059669" stroke-width="5" fill="none"/>
      </svg>
    </div>

    <div class="fixed top-1/2 right-4 pointer-events-none z-[5] opacity-15 wave-pattern" style="animation-delay: 1s;">
      <svg width="40" height="200" viewBox="0 0 40 200">
        <path d="M20,200 Q30,150 20,100 Q10,50 20,0" stroke="#10b981" stroke-width="5" fill="none"/>
      </svg>
    </div>

    <!-- Shells scattered -->
    <div class="fixed top-[20%] left-[15%] pointer-events-none z-[5] opacity-20">
      <svg width="40" height="40" viewBox="0 0 40 40">
        <path d="M20,5 Q30,10 35,20 Q30,30 20,35 Q10,30 5,20 Q10,10 20,5 Z" fill="#f0fdfa" stroke="#0d9488" stroke-width="2"/>
      </svg>
    </div>

    <div class="fixed bottom-[25%] right-[20%] pointer-events-none z-[5] opacity-20">
      <svg width="35" height="35" viewBox="0 0 40 40">
        <circle cx="20" cy="20" r="15" fill="#ecfeff" stroke="#06b6d4" stroke-width="2"/>
        <circle cx="20" cy="20" r="10" fill="#cffafe" stroke="#0891b2" stroke-width="1.5"/>
      </svg>
    </div>

    <!-- Bubbles Background -->
    <div class="bubble" style="width: 30px; height: 30px; left: 10%; animation-duration: 8s; animation-delay: 0s;"></div>
    <div class="bubble" style="width: 20px; height: 20px; left: 30%; animation-duration: 10s; animation-delay: 2s;"></div>
    <div class="bubble" style="width: 40px; height: 40px; left: 50%; animation-duration: 12s; animation-delay: 1s;"></div>
    <div class="bubble" style="width: 25px; height: 25px; left: 70%; animation-duration: 9s; animation-delay: 3s;"></div>
    <div class="bubble" style="width: 35px; height: 35px; left: 85%; animation-duration: 11s; animation-delay: 0.5s;"></div>

    <!-- NAV - Floating Bar -->
    <nav class="fixed top-3 md:top-6 left-1/2 -translate-x-1/2 z-50 px-4 md:px-8 py-3 md:py-4 flex justify-between items-center bg-white/70 backdrop-blur-md rounded-full shadow-xl border border-cyan-200/50 w-[95%] md:w-[90%] max-w-2xl">
      <h1 class="text-base md:text-xl font-bold text-cyan-900 flex items-center gap-1 md:gap-2">
        <span class="text-xl md:text-2xl">üêü</span> My Space
      </h1>
      <a href="#" class="px-4 md:px-6 py-1.5 md:py-2 bg-gradient-to-r from-cyan-500 to-blue-500 text-white rounded-full text-xs md:text-sm font-semibold shadow-md hover:shadow-lg hover:scale-105 transition-all">
        Memories
      </a>
    </nav>

    <!-- HERO with Mola Mola -->
    <section class="relative z-10 max-w-4xl mx-auto px-4 md:px-8 py-12 md:py-20">
      <!-- Floating Mola Mola - Hidden on mobile -->
      <div class="absolute -top-10 right-0 mola-float opacity-20 pointer-events-none hidden md:block">
        <svg width="200" height="200" viewBox="0 0 200 200" class="mola-swim">
          <ellipse cx="100" cy="100" rx="70" ry="90" fill="#7DD3FC" opacity="0.6"/>
          <ellipse cx="100" cy="100" rx="50" ry="70" fill="#38BDF8"/>
          <circle cx="80" cy="80" r="8" fill="#1E3A8A"/>
          <path d="M 30 100 Q 20 90, 25 80" stroke="#0C4A6E" stroke-width="3" fill="none"/>
          <path d="M 170 80 L 185 70 L 180 90 Z" fill="#38BDF8"/>
          <path d="M 170 120 L 185 130 L 180 110 Z" fill="#38BDF8"/>
        </svg>
      </div>

      <h2 class="text-3xl md:text-5xl font-bold mb-4 md:mb-6 leading-tight text-cyan-900">
        Hi, I'm Aqueena. üåä
      </h2>

      <p class="text-base md:text-lg text-gray-700 mb-3 md:mb-4">
        Welcome to my little corner of the ocean ‚Äî a place where I keep the
        memories that matter to me, floating gently like a Mola Mola in deep waters.
      </p>

      <p class="text-base md:text-lg text-gray-700 mb-3 md:mb-4">
        Some memories are happy, some soft, some painful ‚Äî but they make me who I
        am. This website is where I store them, preserved in the currents of time.
      </p>

      <p class="text-base md:text-lg text-cyan-800 mb-6 md:mb-10 font-medium">
        Dive in and explore a few memories from my life.
      </p>
    </section>

    <!-- MEMORY PREVIEW -->
    <section class="relative z-10 max-w-5xl mx-auto px-4 md:px-6 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 mb-12 md:mb-20">
      {preview.map((item, index) => (
        <button 
          data-memory-index={index}
          class="memory-card group block relative bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg hover:shadow-2xl transition-all overflow-hidden border-2 border-cyan-200 hover:border-cyan-400 hover:-translate-y-2 cursor-pointer w-full text-left"
        >
          <div class="relative overflow-hidden h-64 md:h-80">
            <img
              src={item.image}
              alt={item.title}
              class="h-full w-full object-cover group-hover:scale-110 transition-transform duration-500"
            />
            
            <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-4 md:p-6">
              <p class="text-white text-base md:text-lg font-semibold mb-1 md:mb-2">üìÖ {item.date}</p>
              <p class="text-cyan-200 text-sm md:text-base">üìç {item.location}</p>
            </div>
          </div>
        </button>
      ))}
    </section>

    <!-- MODAL -->
    <div id="modal" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] hidden items-center justify-center p-4 modal-backdrop">
      <div class="relative bg-white/95 backdrop-blur-md rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl border-2 border-cyan-300 modal-content">
        <!-- Close Button -->
        <button 
          id="close-modal"
          class="absolute top-4 right-4 z-10 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full p-2 md:p-3 shadow-lg hover:scale-110 transition-all"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 md:w-6 md:h-6" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18"/>
            <path d="m6 6 12 12"/>
          </svg>
        </button>

        <!-- Modal Content -->
        <div id="modal-content" class="p-6 md:p-8">
          <!-- Content will be inserted by JavaScript -->
        </div>
      </div>
    </div>

    <!-- VIEW ALL BUTTON -->
    <div class="relative z-10 w-full text-center pb-12 md:pb-20">
      <a href="#" class="inline-flex items-center gap-2 md:gap-3 bg-gradient-to-r from-cyan-500 to-blue-500 text-white px-6 md:px-8 py-3 md:py-4 rounded-full text-base md:text-lg font-semibold shadow-xl hover:shadow-2xl hover:scale-105 transition-all">
        <span>üêü</span> View All Memories <span>‚Üí</span>
      </a>
    </div>

    <!-- Decorative Mola Mola at Bottom -->
    <div class="relative z-10 max-w-4xl mx-auto px-4 md:px-6 pb-8 md:pb-12 text-center">
      <svg width="80" height="80" viewBox="0 0 200 200" class="inline-block mola-float opacity-30 md:w-[120px] md:h-[120px]">
        <ellipse cx="100" cy="100" rx="70" ry="90" fill="#7DD3FC" opacity="0.6"/>
        <ellipse cx="100" cy="100" rx="50" ry="70" fill="#38BDF8"/>
        <circle cx="80" cy="80" r="8" fill="#1E3A8A"/>
        <circle cx="75" cy="78" r="3" fill="white"/>
        <path d="M 30 100 Q 20 90, 25 80" stroke="#0C4A6E" stroke-width="3" fill="none"/>
        <path d="M 170 80 L 185 70 L 180 90 Z" fill="#38BDF8"/>
        <path d="M 170 120 L 185 130 L 180 110 Z" fill="#38BDF8"/>
      </svg>
      <p class="text-cyan-700 italic mt-3 md:mt-4 text-sm md:text-base">
        "Just keep swimming through memories..." ‚Äî Mola Mola wisdom
      </p>
    </div>

    <!-- FOOTER -->
    <footer class="relative z-10 w-full text-center py-6 md:py-8 bg-cyan-900/10 backdrop-blur-sm text-cyan-800 text-sm border-t border-cyan-200">
      <p class="mb-2">¬© {new Date().getFullYear()} Aqueena ‚Äî My Space üåä</p>
      <p class="text-xs text-cyan-600">Swimming through memories, one wave at a time</p>
    </footer>

    <script define:vars={{ memories: preview }}>
      const modal = document.getElementById('modal');
      const modalContent = document.getElementById('modal-content');
      const closeBtn = document.getElementById('close-modal');
      const memoryCards = document.querySelectorAll('.memory-card');

      function openModal(index) {
        const memory = memories[index];
        
        modalContent.innerHTML = `
          <img 
            src="${memory.image}" 
            alt="${memory.title}" 
            class="w-full h-64 md:h-96 object-cover rounded-2xl mb-4 md:mb-6 shadow-lg"
          />
          <h3 class="text-2xl md:text-3xl font-bold text-cyan-900 mb-3 md:mb-4">${memory.title}</h3>
          <div class="flex flex-col sm:flex-row gap-3 md:gap-6 mb-4 md:mb-6 text-gray-700">
            <p class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-cyan-600">
                <rect width="18" height="18" x="3" y="4" rx="2" ry="2"/>
                <line x1="16" x2="16" y1="2" y2="6"/>
                <line x1="8" x2="8" y1="2" y2="6"/>
                <line x1="3" x2="21" y1="10" y2="10"/>
              </svg>
              <span class="font-semibold text-sm md:text-base">${memory.date}</span>
            </p>
            <p class="flex items-center gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-cyan-600">
                <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
              <span class="font-semibold text-sm md:text-base">${memory.location}</span>
            </p>
          </div>
          <p class="text-base md:text-lg text-gray-700 leading-relaxed">${memory.description}</p>
        `;
        
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        document.body.style.overflow = 'hidden';
      }

      function closeModal() {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
        document.body.style.overflow = 'auto';
      }

      // Add click event to each memory card
      memoryCards.forEach(card => {
        card.addEventListener('click', () => {
          const index = parseInt(card.getAttribute('data-memory-index'));
          openModal(index);
        });
      });

      // Close button
      closeBtn.addEventListener('click', closeModal);

      // Close modal when clicking outside
      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          closeModal();
        }
      });

      // Close modal with ESC key
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
          closeModal();
        }
      });
    </script>
  </body>
</html>